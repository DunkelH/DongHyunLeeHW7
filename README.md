# HW7
## main_Phong_Shader.cpp 파일 설명
이 파일은 전체 OpenGL 프로그램의 메인 소스 파일로, 창 생성부터 셰이더 로딩, 구의 생성 및 렌더링까지 모든 과정을 담당한다. 프로그램 시작 시 GLFW를 통해 창을 열고, GLAD를 사용하여 OpenGL 함수 포인터를 로딩한다.

readFile() 함수는 셰이더 코드 파일을 문자열로 읽어오는 기능을 하며, compileShader() 함수는 해당 문자열을 기반으로 버텍스 셰이더와 프래그먼트 셰이더를 각각 컴파일한다. 이후 createProgram() 함수는 컴파일된 셰이더들을 링크하여 셰이더 프로그램 객체를 생성한다.

generateSphere() 함수는 삼각형 분할 기반의 구를 생성하는 함수로, 위도와 경도를 따라 정점들을 만들고, 각 정점에는 위치와 노멀 벡터가 함께 저장된다. 생성된 정점 데이터는 VAO, VBO, EBO를 통해 GPU에 전송된다.

렌더링 루프에서는 모델링 변환, 뷰 변환, 투영 변환 행렬을 계산하고, 이를 각각 model, view, projection uniform으로 셰이더에 전달한다. 또한 조명과 관련된 계수들인 ka, kd, ks, shininess, lightPos, ambientIntensity, viewPos도 uniform으로 전달된다. 최종적으로 glDrawElements()를 호출하여 GPU가 구를 셰이딩 및 렌더링한다.

## Phong.vert 파일 설명 (버텍스 셰이더)
이 파일은 버텍스 셰이더 소스 코드로, 각 정점에 대해 모델링, 뷰잉, 투영 변환을 수행하여 최종 위치를 계산한다. 입력으로는 정점의 위치(aPos)와 법선 벡터(aNormal)를 받으며, 이를 model 행렬로 변환하여 월드 좌표계 상의 위치(FragPos)를 계산한다.

법선 벡터는 모델링 행렬의 역행렬의 전치 행렬을 통해 변환되어 Normal로 출력된다. 이는 나중에 프래그먼트 셰이더에서 조명 계산에 사용된다. 최종적으로 변환된 위치는 gl_Position을 통해 클립 공간에 출력된다.

## Phong.frag 파일 설명 (프래그먼트 셰이더)
이 파일은 프래그먼트 셰이더 소스 코드로, 픽셀 단위로 조명 계산을 수행하여 최종 색상을 결정한다. 이 셰이더는 Phong 조명 모델을 기반으로 하며, ambient(주변광), diffuse(확산광), specular(반사광) 세 성분을 각각 계산한 뒤 합산하여 최종 색상을 얻는다.

먼저 ambient 성분은 ambientIntensity와 ka를 곱하여 계산하며, diffuse 성분은 정규화된 법선 벡터와 광원 방향 벡터의 내적을 통해 얻은 값을 kd와 곱하여 계산한다. specular 성분은 뷰 방향과 반사 벡터의 내적의 거듭제곱에 ks를 곱하여 계산한다. 하이라이트가 지나치게 강해지는 것을 방지하기 위해, 확산광이 0인 경우 스페큘러는 제거된다.

이렇게 계산된 색상 성분을 합쳐 result로 저장하고, 감마 보정을 위해 pow(result, 1.0 / 2.2)를 적용한다. 마지막으로 이를 FragColor로 출력한다.

## 종합 요약
이 프로그램은 OpenGL 3.3 Core Profile을 기반으로 구성되었으며, 고정 기능 파이프라인은 전혀 사용하지 않았다. 모든 변환과 셰이딩은 셰이더 프로그램을 통해 수행되며, 조명에 필요한 모든 상수 값은 런타임에 C++ 코드에서 GPU로 전달된다. 최종 출력은 과제 6에서 제시된 Phong Shading Sphere와 동일한 형태로, 하이라이트와 감마 보정이 적용된 자연스러운 결과를 생성한다.
